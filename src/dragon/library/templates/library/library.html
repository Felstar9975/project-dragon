{% extends "dragon/base.html" %}

{% block title %}{{ block.super }} - Library{% endblock %}

{% block content %}
  <h1>Library</h1>
  <h3><a href="{% url 'library:borrowed' %}">Borrowed from Unigames</a></h3>

  <h3>Items</h3>
  <table style="width:100%">
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Type</th>
      <th>Availability</th>
    </tr>
    {% for item in items %}
      <tr>
        <td>
          {{ item.name }}
        </a></td>
        <td>
          {{ item.description }}
        </td>
        <td>
          {{ item.get_type_display }}
        </td>
        <td>
          {{ item.available }}
        </td>
      </tr>
    {% endfor %}

  </table>

  <h3>Books</h3>
  <table style="width:100%">
    <tr>
      <th>Name</th>
      <th>ISBN</th>
      <th>Edition</th>
      <th>Year</th>
      <th>Genre</th>
      <th>Availability</th>
    </tr>
    {% for book in books %}
      <tr>
        <td><a href="{% url 'library:book_detail' book.id %}">
          {{ book.name }}
        </a></td>
        <td>
          {{ book.isbn }}
        </td>
        <td>
          {{ book.edition }}
        </td>
        <td>
          {{ book.year }}
        </td>
        <td>
          {{ book.get_genre_display }}
        </td>
        <td>
          {{ book.available }}
        </td>
      </tr>
    {% endfor %}

  </table>


  <h3>Games</h3>
  <table style="width:100%">
    <tr>
      <th>Name</th>
      <th>Players</th>
      <th>Game Duration (minutes)</th>
      <th>Genre</th>
      <th>Difficulty</th>
      <th>Availability</th>
    </tr>
    {% for game in games %}
      <tr>
        <td><a href="{% url 'library:game_detail' game.id %}">
          {{ game.name }}
        </a></td>
        <td>
          {{ game.minplayers }}-{{ game.maxplayers }}
        </td>
        <td>
          {{ game.mingamelength }}-{{ game.maxgamelength }}
        </td>
        <td>
          {{ game.get_genre_display }}
        </td>
        <td>
          {{ game.get_difficulty_display }}
        </td>
        <td>
          {{ game.available}}
        </td>
      </tr>
    {% endfor %}

  </table>

<h3>Card Games</h3>
  <table style="width:100%">
    <tr>
      <th>Name</th>
      <th>Deck Type</th>
      <th>Availability</th>
    </tr>
    {% for card in cards %}
      <tr>
        <td><a href="{% url 'library:card_detail' card.id %}">
          {{ card.name }}
        </a></td>
        <td>
          {{card.deck_type}}
        </td>
        <td>
          {{card.available}}
        </td>
      </tr>
    {% endfor %}

  </table>

  <h3>List of Tags</h3>
  <table>
    <tr>
      <th>Tag Name</th>
    </tr>
    {% for tag in tags %}
      <tr>
        <td>
          {{ tag.name }}
        </td>
      </tr>
    {% endfor %}
  </table>




  <h1>Add Items</h1>

  <a href="{% url 'library:book_form' %}">Add Book</a><br>
  <a href="{% url 'library:game_form' %}">Add Game</a><br>
  <a href="{% url 'library:card_form' %}">Add Card Game</a><br>
  <a href="{% url 'library:tag_form' %}">Manage Tags</a>


{% endblock %}

